<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://js.pusher.com/7.0/pusher.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Identity - Voting</title>
    <meta name="description" content="The voting page for the Identity setup">
    <meta name="author" content="Noah Freriksen">

    <meta property="og:title" content="Identity - Voting">
    <meta property="og:type" content="website">
    <meta property="og:description" content="The voting page for the Identity setup">

    <link rel="stylesheet" href="vote.css">
    <script type="module" src="tv.js"></script>


</head>

<body>
    <div id="form">
        <div class="title">
            <h1 id='text1'></h1>
            <h1 id='text2'></h1>
        </div>
        <p><img alt="" width="420" height="420" class="image" id="portrait" />
            <video alt="" width="420" height="420" class="image video" id="video" autoplay="true"></video>
        </p>

        <div class="title">
            <h5 id='text3'></h5>
        </div>
        <canvas id="canvas" width="420" height="420"></canvas>

        <!-- Sorry Noah, no idea how -->
        <script>
            var video = document.querySelector('video');
            var canvas = document.querySelector('canvas');
            var context = canvas.getContext('2d');
            var w, h, ratio;
            // or why this works..
            video.addEventListener('loadedmetadata', function () {
                ratio = video.videoWidth / video.videoHeight;
                w = video.videoWidth - 100;
                h = parseInt(w / ratio, 10);
                canvas.width = w;
                canvas.height = h;
            }, false);


        </script>
        <canvas id="canvas" width="420" height="420"></canvas>
    </div>
</body>

</html>